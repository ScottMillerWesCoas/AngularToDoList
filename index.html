<!-- COMMENTED OUT CODE IS FROM JQUERY EXAMPLE OF DATA BINDING -->
<!-- <!DOCTYPE html> -->
<html ng-app="nameApp">
  <head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.6/angular.min.js"></script>
<!--     <script type="text/javascript" src="/lib/angular-animate.min.js"></script> -->

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-animate.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular-route.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Oswald:400,900' rel='stylesheet' type='text/css'>
    <link href="animations.css" rel="stylesheet" type="text/css">
   

    <script>
      var nameApp = angular.module('nameApp', ['ngRoute', 'ngAnimate']);
      nameApp.config(configFunction);
      function configFunction($routeProvider) {
        console.log('in configFunction'); 
        $routeProvider
        .when('/test', {
          templateUrl:'test.htm',
          //templateUrl: './index.html',
          // controller: 'NameCtrl'
        }) 
        .when('/toDoList', {
          templateUrl:'toDoList.htm',
          controller: "NameCtrl"
        })
         .when('/', {
          templateUrl:'welcome.htm',
          //controller: "NameCtrl"
        })
        .when('/welcome', {
          templateUrl:'welcome.htm',
          //controller: "NameCtrl"
        });       
      }     
      nameApp.controller('NameCtrl', ['$scope', '$http', function(scope, http){
        scope.fName = 'Scott'; 
        scope.lName = 'Miller'; 
        scope.$watch('lName', function (newVal, oldVal){
          setTimeout(function(){
            $('#testing').text("Thanks for Coming!").animate({opacity: '1', marginLeft: '50%'}, 2000); 
          }, 2000); 
        }); 
    //  scope.nameList =     [
    //   {"Item": "Play with Dash", "Frequency": "Daily"}, 
    //   {"Item": "Romance McKenna", "Frequency": "Daily"}, 
    //   {"Item": "Take out the trash", "Frequency": "Bi-Weekly"}
    // ]; 

        scope.sortField = 'key';
        scope.reverse = true;  
        // http.get('toDoListData.json').success(function(data){
        //   scope.nameList = data;
        //   scope.newList = eval(scope.nameList); 
        //   console.log('got it', scope.newList); 
        //    scope.newList = []; 
        // }); 
        var savedData = localStorage.getItem('toDoList'); 
        if (savedData){
          console.log('got localStorage!'); 
          scope.localStorage = JSON.parse(savedData); 
          scope.newList = eval(scope.localStorage); 
          console.log('from localStorage', scope.newList); 
      }

        scope.removeItem = function(item){
          var i = scope.newList.indexOf(item); 
          scope.newList.splice(i, 1); 
        };
        scope.addItem = function(){ 
          scope.newList.push({"key": scope.newList.length, "order": scope.howImportant, "Item": scope.enterName, "Frequency": scope.howOften, "imgUrl": scope.imgUrl}); 
          console.log('item added to scope', scope.newList[scope.newList.length-1]); 
          scope.enterName = ''; 
          scope.howOften = ''; 
          scope.howImportant = ''; 
          scope.imgUrl = ''; 
        }; 
        scope.saveList = function(){
          localStorage.setItem('toDoList', JSON.stringify(scope.newList));  
        };
        scope.deleteList = function(){
          scope.newList = [];  
        };  
      }]); 
    </script>
  
  </head>

  <body>
    <p  style="font-family:'Oswald'"><a href="#test">Test out routing</a> | <a href="#toDoList">Go to To-Do List!</a> | <a href="#welcome">Welcome Page</a></p>
     <div ng-view>
    </div>
   
  </body>

</html>